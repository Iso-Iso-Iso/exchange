import{D as w,_ as S}from"./deposit-item.vue_vue_type_script_setup_true_lang.6b753a4f.js";import{u as x,_ as A}from"./pagination-bullets.vue_vue_type_style_index_0_lang.ef2af5f1.js";import{d as v,j as E,k as L,o as t,b as u,w as i,u as a,c as p,F as O,l as P,e as $,L as B,E as C,g as F,h as m}from"./index.3b1e4ac0.js";import{u as N}from"./admin.d9d37d98.js";const T={key:0},V=m("Somthing went wrong. Try refresh the page"),Q=m(" \u0414\u0435\u043F\u043E\u0437\u0438\u0442 "),z=v({__name:"deposit-admin",setup(b){const{fetchPagination:l,response:n,isSuccess:_,maxPage:f,isLoading:g,isError:y}=x("/admin/deposit/list",10);l();const{doAsyncQuery:c,isSuccess:d}=E(N);async function h(e,o){await c([{deposit_id:e,status:1}]),d&&(n.value.data.deposits[o].status=1)}async function k(e,o){await c([{deposit_id:e,status:-1}]),d&&(n.value.data.deposits[o].status=-1)}return L(n,e=>console.log(e)),(e,o)=>(t(),u(w,null,{title:i(()=>[Q]),default:i(()=>[a(_)?(t(),p("div",T,[(t(!0),p(O,null,P(a(n).data.deposits,(s,r)=>(t(),u(S,{key:r,card:s.crypto_id,sum:s.sum,username:s.username,status:s.status,onOnAccept:D=>h(s.deposit_id,r),onOnDecline:D=>k(s.deposit_id,r)},null,8,["card","sum","username","status","onOnAccept","onOnDecline"]))),128)),$(A,{"max-page":a(f),"page-name":"admin.deposit"},null,8,["max-page","page-name"])])):a(g)?(t(),u(B,{key:1})):a(y)?(t(),u(C,{key:2},{default:i(()=>[V]),_:1})):F("",!0)]),_:1}))}});export{z as default};
