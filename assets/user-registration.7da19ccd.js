import{d as f,y as k,i as U,z as V,a as h,j as A,A as D,o as u,c,u as o,q as L,g as n,B as i,D as l,m as t,b as d,L as R,w as S,E as N,h as T}from"./index.3b1e4ac0.js";const P={class:"registration"},Q=t("h2",{class:"registration__title"},"Registration",-1),$={key:0,class:"registration__error"},j=t("label",{class:"registration__label",for:"username"},"Login* (3 symbol+)",-1),q=t("label",{class:"registration__label",for:"pass"},"Password* (8 symbol +)",-1),z={class:"registration__password"},M=t("label",{class:"registration__label",for:"username"},"Country",-1),Y=t("label",{class:"registration__label",for:"username"},"City",-1),G=["disabled"],H=T("You already have registered"),I=f({__name:"registration-form",setup(B){const{loginUser:p}=k(),a=U(),e=V({login:"",password:"",country:"",city:""}),_=h(()=>a.state.user),{doAsyncQuery:E,errorResponse:F,isError:C}=A(D,async()=>{await p(e),a.dispatch("getUser"),a.dispatch("fetchCurrencies")});a.commit("hideLoginPopup");function v(){E([e])}const w=h(()=>e.login.length>=3&&e.password.length>=8);return(x,s)=>{var g,m,y,b;return u(),c("div",P,[Q,o(C)?(u(),c("p",$,L((b=(y=(m=(g=o(F))==null?void 0:g.response)==null?void 0:m.data)==null?void 0:y.error)==null?void 0:b.message),1)):n("",!0),j,i(t("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>e.login=r),class:"registration__input",type:"text",name:"username",placeholder:"\u041B\u043E\u0433\u0438\u043D \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"},null,512),[[l,e.login]]),q,t("div",z,[i(t("input",{"onUpdate:modelValue":s[1]||(s[1]=r=>e.password=r),class:"registration__input",type:"password",name:"pass",placeholder:"\u041F\u0430\u0440\u043E\u043B\u044C \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"},null,512),[[l,e.password]])]),M,i(t("input",{"onUpdate:modelValue":s[2]||(s[2]=r=>e.country=r),class:"registration__input",type:"text",name:"username",placeholder:"\u0421\u0442\u0440\u0430\u043D\u0430 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"},null,512),[[l,e.country]]),Y,i(t("input",{"onUpdate:modelValue":s[3]||(s[3]=r=>e.city=r),class:"registration__input",type:"text",name:"username",placeholder:"\u0421\u0442\u0440\u0430\u043D\u0430 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"},null,512),[[l,e.city]]),o(_).isLoading?(u(),d(R,{key:1})):n("",!0),o(_).isError?(u(),c("button",{key:2,class:"registration__sign-in",disabled:!o(w),onClick:s[4]||(s[4]=r=>v())}," Register ",8,G)):n("",!0),o(_).isSuccess?(u(),d(N,{key:3},{default:S(()=>[H]),_:1})):n("",!0)])}}});const K=f({__name:"user-registration",setup(B){return(p,a)=>(u(),d(I))}});export{K as default};
