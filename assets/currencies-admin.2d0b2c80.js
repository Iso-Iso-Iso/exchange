import{_ as L,o as e,c as n,m as c,n as V,p as E,d as x,z as N,v as U,q as d,B as h,D as q,G as w,j as C,b as _,w as k,u as a,F as A,l as D,L as g,g as b,E as G,h as S,H as M}from"./index.3b1e4ac0.js";import{b as Q}from"./admin.d9d37d98.js";const T={},F={class:"currency"},W=E('<div class="currency__top"><p class="currency__name currency-name">currency</p><p class="currency__name rate">rate</p><p class="currency__name is_base">is_base</p><p class="currency__name buttons">buttons</p></div>',1),j={class:"currency__bottom"};function z(l,y){return e(),n("div",F,[W,c("div",j,[V(l.$slots,"default")])])}const H=L(T,[["render",z]]),O={class:"currency__item"},R={class:"currency__currency-name currency-name"},I={class:"currency__rate rate"},J={key:0},K={class:"currency__is_base is_base"},P={key:0},X={key:0,class:"currency__buttons"},Y=c("button",{class:"currency__decline"},"Delete",-1),Z={key:1,class:"currency__buttons"},ee=x({__name:"currency-item",props:{currency:{type:String,required:!0},rate:{type:Number,required:!0},isBase:{type:Boolean,required:!0}},emits:["onSave"],setup(l,{emit:y}){const o=l,s=N({...o,is_base:o.isBase}),t=U(!1);function v(){t.value=!1,(s.rate!=o.rate||s.is_base!=o.isBase)&&y("onSave",s)}return(p,r)=>(e(),n("div",O,[c("div",R,d(s.currency),1),c("div",I,[t.value?h((e(),n("input",{key:1,"onUpdate:modelValue":r[0]||(r[0]=i=>s.rate=i),type:"number"},null,512)),[[q,s.rate]]):(e(),n("p",J,d(s.rate),1))]),c("div",K,[t.value?h((e(),n("input",{key:1,"onUpdate:modelValue":r[1]||(r[1]=i=>s.is_base=i),type:"checkbox"},null,512)),[[w,s.is_base]]):(e(),n("p",P,d(s.is_base),1))]),t.value?(e(),n("div",Z,[c("button",{class:"currency__accept",onClick:r[3]||(r[3]=i=>v())},"Save")])):(e(),n("div",X,[c("button",{class:"currency__accept",onClick:r[2]||(r[2]=i=>t.value=!t.value)}," Change "),Y]))]))}}),se={key:0},re=c("br",null,null,-1),ce=x({__name:"currencies-admin",setup(l){const{doAsyncQuery:y,response:o,isSuccess:s,isLoading:t}=C(M);y();const{doAsyncQuery:v,isError:p,isLoading:r,errorResponse:i}=C(Q);async function $(f){await v([f])}return(f,ne)=>(e(),_(H,null,{default:k(()=>[a(s)?(e(),n("div",se,[(e(!0),n(A,null,D(a(o).data.currencies,(m,u,B)=>(e(),_(ee,{key:B,currency:u,rate:m,"is-base":u==a(o).data.base_currency,onOnSave:$},null,8,["currency","rate","is-base"]))),128))])):a(t)?(e(),_(g,{key:1})):b("",!0),a(r)?(e(),_(g,{key:2})):b("",!0),a(p)?(e(),_(G,{key:3},{default:k(()=>{var m,u;return[S(" is error : "+d(a(p))+" ",1),re,S(" Server response:"+d((u=(m=a(i))==null?void 0:m.response)==null?void 0:u.data.error.message),1)]}),_:1})):b("",!0)]),_:1}))}});export{ce as default};
